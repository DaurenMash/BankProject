databaseChangeLog:
  - changeSet:
      id: 1672956301685-1
      author: Sergey
      changes:
        - createTable:
            tableName: account_details
            remarks: "у одного профиля много счетов"
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  remarks: "технический идентификатор"
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: account_details_pkey
              - column:
                  name: account_id
                  type: BIGINT
                  remarks: "технический идентификатор банковского счёта"
                  constraints:
                    nullable: false
              - column:
                  name: profile_id
                  type: BIGINT
                  remarks: "ссылка на профиль"
                  constraints:
                    nullable: false

  - changeSet:
      id: 1672956301685-2
      author: Sergey
      changes:
        - createTable:
            tableName: actual_registration
            remarks: "фактическая регистрация"
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  remarks: "технический идентификатор"
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: actual_registration_pkey
              - column:
                  name: country
                  type: VARCHAR(40)
                  remarks: "страна"
                  constraints:
                    nullable: false
              - column:
                  name: region
                  type: VARCHAR(160)
                  remarks: "регион"
              - column:
                  name: city
                  type: VARCHAR(160)
                  remarks: "город"
              - column:
                  name: district
                  type: VARCHAR(160)
                  remarks: "район"
              - column:
                  name: locality
                  type: VARCHAR(230)
                  remarks: "населенный пункт"
              - column:
                  name: street
                  type: VARCHAR(230)
                  remarks: "улица"
              - column:
                  name: house_number
                  type: VARCHAR(20)
                  remarks: "номер дома"
              - column:
                  name: house_block
                  type: VARCHAR(20)
                  remarks: "корпус"
              - column:
                  name: flat_number
                  type: VARCHAR(40)
                  remarks: "номер квартиры"
              - column:
                  name: index
                  type: BIGINT
                  remarks: "индекс"
                  constraints:
                    nullable: false

  - changeSet:
      id: 1672956301685-3
      author: Sergey
      changes:
        - createTable:
            tableName: audit
            remarks: "аудит"
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  remarks: "технический идентификатор"
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: audit_pkey
              - column:
                  name: entity_type
                  type: VARCHAR(40)
                  remarks: "тип сущности"
                  constraints:
                    nullable: false
              - column:
                  name: operation_type
                  type: VARCHAR(255)
                  remarks: "тип операции"
                  constraints:
                    nullable: false
              - column:
                  name: created_by
                  type: VARCHAR(255)
                  remarks: "кто создал"
                  constraints:
                    nullable: false
              - column:
                  name: modified_by
                  type: VARCHAR(255)
                  remarks: "кто изменил"
              - column:
                  name: created_at
                  type: TIMESTAMP WITH TIME ZONE
                  remarks: "когда создан"
                  constraints:
                    nullable: false
              - column:
                  name: modified_at
                  type: TIMESTAMP WITH TIME ZONE
                  remarks: "когда изменен"
              - column:
                  name: new_entity_json
                  type: TEXT
                  remarks: "json, заполняется при изменении"
              - column:
                  name: entity_json
                  type: TEXT
                  remarks: "json, заполняется при изменение и при сохранении"
                  constraints:
                    nullable: false

  - changeSet:
      id: 1672956301685-4
      author: Sergey
      changes:
        - createTable:
            tableName: passport
            remarks: "паспорт"
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  remarks: "технический идентификатор"
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: passport_pkey
              - column:
                  name: series
                  type: INTEGER
                  remarks: "серия"
                  constraints:
                    nullable: false
              - column:
                  name: number
                  type: BIGINT
                  remarks: "номер"
                  constraints:
                    nullable: false

  - changeSet:
      id: 1672956301685-5
      author: Sergey
      changes:
        - createTable:
            tableName: profile
            remarks: "банковский профиль"
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  remarks: "технический идентификатор"
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: profile_pkey
              - column:
                  name: phone_number
                  type: BIGINT
                  remarks: "номер телефона, без +7"
                  constraints:
                    nullable: false
              - column:
                  name: email
                  type: VARCHAR(264)
                  remarks: "е-мейл"
              - column:
                  name: passport_id
                  type: BIGINT
                  remarks: "ссылка на паспорт"
                  constraints:
                    nullable: false

  - changeSet:
      id: 1672956301685-6
      author: Sergey
      changes:
        - createTable:
            tableName: registration
            remarks: "регистрация"
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  remarks: "технический идентификатор"
                  constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: registration_pkey
              - column:
                  name: country
                  type: VARCHAR(166)
                  remarks: "страна"
                  constraints:
                    nullable: false
              - column:
                  name: city
                  type: VARCHAR(160)
                  remarks: "город"
              - column:
                  name: index
                  type: BIGINT
                  remarks: "индекс"
                  constraints:
                    nullable: false
